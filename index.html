<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JP Fashion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 font-[Poppins]">

<div id="loginPage" class="min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <div class="text-center mb-8">
            <img src="https://images.unsplash.com/photo-1589363460779-cd717d2ed8fa" alt="Logo" class="w-24 h-24 mx-auto mb-2 rounded-full object-cover">
            <h2 class="text-2xl font-bold">JP Fashion</h2>
        </div>
        <form id="loginForm" class="space-y-4">
            <div>
                <input type="email" id="email" placeholder="Email" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
                <input type="password" id="password" placeholder="Password" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Login</button>
        </form>
        <div class="mt-4 text-center space-y-2">
            <button onclick="showForgotPassword()" class="text-blue-500 hover:underline">Forgot Password?</button>
            <p>Don't have an account? <button onclick="showRegister()" class="text-blue-500 hover:underline">Register</button></p>
        </div>
    </div>
</div>

<div id="registerPage" class="hidden min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold text-center mb-6">Register</h2>
        <form id="registerForm" class="space-y-4">
            <input type="text" placeholder="Full Name" class="w-full px-4 py-2 border rounded-lg">
            <input type="email" placeholder="Email" class="w-full px-4 py-2 border rounded-lg">
            <input type="password" placeholder="Password" class="w-full px-4 py-2 border rounded-lg">
            <input type="text" placeholder="Phone" class="w-full px-4 py-2 border rounded-lg">
            <input type="text" placeholder="Address" class="w-full px-4 py-2 border rounded-lg">
            <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Register</button>
        </form>
        <button onclick="showLogin()" class="mt-4 text-blue-500 hover:underline">Back to Login</button>
    </div>
</div>

<div id="forgotPasswordPage" class="hidden min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold text-center mb-6">Reset Password</h2>
        <form id="forgotPasswordForm" class="space-y-4">
            <input type="email" placeholder="Email" class="w-full px-4 py-2 border rounded-lg">
            <input type="password" placeholder="New Password" class="w-full px-4 py-2 border rounded-lg">
            <input type="password" placeholder="Confirm Password" class="w-full px-4 py-2 border rounded-lg">
            <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Reset Password</button>
        </form>
        <button onclick="showLogin()" class="mt-4 text-blue-500 hover:underline">Back to Login</button>
    </div>
</div>

<div id="adminPage" class="hidden min-h-screen">
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <img src="https://images.unsplash.com/photo-1589363460779-cd717d2ed8fa" alt="Logo" class="w-12 h-12 rounded-full object-cover">
                <h1 class="ml-2 text-xl font-bold">JP Fashion</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <button onclick="toggleNotifications()" class="text-2xl"><i class="bi bi-bell"></i>
                        <span id="notificationCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">0</span>
                    </button>
                </div>
                <button onclick="logout()" class="text-2xl"><i class="bi bi-box-arrow-right"></i></button>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-bold mb-4">Add New Product</h2>
                <form id="addProductForm" class="space-y-4">
                    <input type="text" placeholder="Product Name" class="w-full px-4 py-2 border rounded-lg">
                    <input type="number" placeholder="Price" class="w-full px-4 py-2 border rounded-lg">
                    <input type="number" placeholder="Quantity" class="w-full px-4 py-2 border rounded-lg">
                    <input type="file" accept="image/*" class="w-full">
                    <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Add Product</button>
                </form>
            </div>

            <div class="bg-white p-6 rounded-lg shadow">
                <h2 class="text-xl font-bold mb-4">Update Logo</h2>
                <form id="updateLogoForm" class="space-y-4">
                    <input type="file" accept="image/*" class="w-full">
                    <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">Update Logo</button>
                </form>
            </div>
        </div>

        <div id="productList" class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Products will be dynamically added here -->
        </div>
    </div>
</div>

<div id="userPage" class="hidden min-h-screen">
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <img src="https://images.unsplash.com/photo-1589363460779-cd717d2ed8fa" alt="Logo" class="w-12 h-12 rounded-full object-cover">
                <h1 class="ml-2 text-xl font-bold">JP Fashion</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button onclick="showProfile()" class="text-2xl"><i class="bi bi-person"></i></button>
                <div class="relative">
                    <button onclick="toggleCart()" class="text-2xl"><i class="bi bi-cart"></i>
                        <span id="cartCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">0</span>
                    </button>
                </div>
                <button onclick="logout()" class="text-2xl"><i class="bi bi-box-arrow-right"></i></button>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <div id="userProductList" class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Products will be dynamically added here -->
        </div>
    </div>
</div>

<div id="profilePage" class="hidden min-h-screen">
    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-2xl font-bold mb-6">Profile</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700">Name</label>
                    <p id="profileName" class="font-medium"></p>
                </div>
                <div>
                    <label class="block text-gray-700">Email</label>
                    <p id="profileEmail" class="font-medium"></p>
                </div>
                <div>
                    <label class="block text-gray-700">Phone</label>
                    <p id="profilePhone" class="font-medium"></p>
                </div>
                <div>
                    <label class="block text-gray-700">Address</label>
                    <p id="profileAddress" class="font-medium"></p>
                </div>
            </div>
            <div class="mt-6">
                <h3 class="text-xl font-bold mb-4">Order History</h3>
                <div id="orderHistory" class="space-y-4">
                    <!-- Order history will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Store data
let users = [{email: 'pravenkumar6465@gmail.com', password: '1234', isAdmin: true}];
let products = [];
let cart = [];
let notifications = [];
let currentUser = null;

// Helper functions
function showLogin() {
    document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
    document.getElementById('loginPage').classList.remove('hidden');
}

function showRegister() {
    document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
    document.getElementById('registerPage').classList.remove('hidden');
}

function showForgotPassword() {
    document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
    document.getElementById('forgotPasswordPage').classList.remove('hidden');
}

function showProfile() {
    document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
    document.getElementById('profilePage').classList.remove('hidden');
    updateProfile();
}

function updateProfile() {
    if(currentUser) {
        document.getElementById('profileName').textContent = currentUser.name || '';
        document.getElementById('profileEmail').textContent = currentUser.email || '';
        document.getElementById('profilePhone').textContent = currentUser.phone || '';
        document.getElementById('profileAddress').textContent = currentUser.address || '';
    }
}

function logout() {
    currentUser = null;
    cart = [];
    showLogin();
}

function toggleNotifications() {
    // Implement notification display logic
}

function toggleCart() {
    // Implement cart display logic
}

// Event Listeners
document.getElementById('loginForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    const user = users.find(u => u.email === email && u.password === password);
    if(user) {
        currentUser = user;
        if(user.isAdmin) {
            document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
            document.getElementById('adminPage').classList.remove('hidden');
        } else {
            document.querySelectorAll('div[id$="Page"]').forEach(page => page.classList.add('hidden'));
            document.getElementById('userPage').classList.remove('hidden');
        }
    } else {
        alert('Invalid credentials');
    }
});

document.getElementById('registerForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const form = e.target;
    const newUser = {
        name: form.elements[0].value,
        email: form.elements[1].value,
        password: form.elements[2].value,
        phone: form.elements[3].value,
        address: form.elements[4].value,
        isAdmin: false
    };
    users.push(newUser);
    showLogin();
});

document.getElementById('forgotPasswordForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const email = e.target.elements[0].value;
    const newPassword = e.target.elements[1].value;
    const confirmPassword = e.target.elements[2].value;
    
    if(newPassword !== confirmPassword) {
        alert('Passwords do not match');
        return;
    }
    
    const user = users.find(u => u.email === email);
    if(user) {
        user.password = newPassword;
        showLogin();
    } else {
        alert('User not found');
    }
});

document.getElementById('addProductForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const form = e.target;
    const newProduct = {
        id: Date.now(),
        name: form.elements[0].value,
        price: form.elements[1].value,
        quantity: form.elements[2].value,
        image: URL.createObjectURL(form.elements[3].files[0])
    };
    products.push(newProduct);
    updateProductList();
});

function updateProductList() {
    const productList = document.getElementById(currentUser.isAdmin ? 'productList' : 'userProductList');
    productList.innerHTML = '';
    
    products.forEach(product => {
        const productElement = document.createElement('div');
        productElement.className = 'bg-white p-4 rounded-lg shadow';
        productElement.innerHTML = `
            <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-lg mb-4">
            <h3 class="font-bold">${product.name}</h3>
            <p>Price: $${product.price}</p>
            <p>Quantity: ${product.quantity}</p>
            ${currentUser.isAdmin ? 
                `<button onclick="deleteProduct(${product.id})" class="mt-2 bg-red-500 text-white px-4 py-2 rounded-lg">Delete</button>` :
                `<button onclick="addToCart(${product.id})" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded-lg">Add to Cart</button>`
            }
        `;
        productList.appendChild(productElement);
    });
}

function deleteProduct(id) {
    products = products.filter(p => p.id !== id);
    updateProductList();
}

function addToCart(id) {
    const product = products.find(p => p.id === id);
    if(product && product.quantity > 0) {
        cart.push({...product, quantity: 1});
        product.quantity--;
        document.getElementById('cartCount').textContent = cart.length;
        updateProductList();
    }
}

// Initialize
showLogin();
</script>

<script>document.body.addEventListener('wheel', e => { if (!e.ctrlKey) return; e.preventDefault(); return }, { passive: false })</script>
	</body>
</html>